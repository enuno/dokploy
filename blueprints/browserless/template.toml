# Browserless - Headless Chromium browser automation service
# https://github.com/browserless/browserless
# Supports Puppeteer and Playwright for browser automation
# Chromium 134.0.6998.35 | Puppeteer 24.4.0 | Playwright 1.47.2-1.51.1

[variables]
domain = "${domain}"
token = "${password:48}"
concurrent = "10"
max_queue_length = "100"
timeout = "30000"

[[config.domains]]
serviceName = "browserless"
port = 3000
host = "${domain}"

[config.env]
# ===========================================
# Authentication
# Required for API access security
# ===========================================
TOKEN = "${token}"

# ===========================================
# Concurrency Configuration
# Adjust based on available resources
# ===========================================
CONCURRENT = "${concurrent}"
MAX_QUEUE_LENGTH = "${max_queue_length}"
TIMEOUT = "${timeout}"
PREBOOT_CHROME = "true"

# ===========================================
# Cloudflare R2 Storage (Optional)
# For storing screenshots, PDFs, and downloads
# Get from: Cloudflare Dashboard > R2 > Manage R2 API Tokens
# Endpoint format: https://<ACCOUNT_ID>.r2.cloudflarestorage.com
#
# To create R2 API Token:
# 1. Go to Cloudflare Dashboard > R2 > Overview
# 2. Click "Manage R2 API Tokens"
# 3. Create token with "Object Read & Write" permission
# 4. Copy the Access Key ID and Secret Access Key
# 5. Create a bucket for browserless artifacts
# ===========================================
S3_ENDPOINT = ""
S3_BUCKET = ""
S3_ACCESS_KEY_ID = ""
S3_SECRET_ACCESS_KEY = ""
S3_REGION = "auto"
S3_USE_PATH_STYLE = "true"
