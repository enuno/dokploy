# Scrt.link - End-to-End Encrypted Secret Sharing
# https://github.com/stophecom/scrt-link-v2
#
# Share sensitive information online with ephemeral, self-destructing links.
# Features: E2E encryption, password protection, file attachments, and API access.

[variables]
domain = "${domain}"
postgres_password = "${password:32}"
rate_limit_secret = "${base64:32}"
cron_secret = "${password:24}"

# Main application domain
[[config.domains]]
serviceName = "scrt-link"
port = 3000
host = "${domain}"

[config.env]
# =============================================================================
# Domain Configuration
# =============================================================================
DOMAIN = "${domain}"

# =============================================================================
# Docker Image
# =============================================================================
# No official Docker image exists. Options:
# 1. Build and push to your own registry
# 2. Use Dokploy's Git deployment feature
# 3. Use a community-maintained image if available
#
# To build from source:
# docker build -t your-registry/scrt-link:latest https://github.com/stophecom/scrt-link-v2.git
# docker push your-registry/scrt-link:latest
# =============================================================================
SCRT_LINK_IMAGE = ""

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_DB = "scrtlink"
POSTGRES_USER = "scrtlink"
POSTGRES_PASSWORD = "${postgres_password}"

# =============================================================================
# Security
# =============================================================================
RATE_LIMIT_SECRET = "${rate_limit_secret}"
CRON_SECRET = "${cron_secret}"

# =============================================================================
# Cloudflare R2 Storage (Required for File Attachments)
# Get from: Cloudflare Dashboard > R2 > Manage R2 API Tokens
# Endpoint format: https://<ACCOUNT_ID>.r2.cloudflarestorage.com
#
# To create R2 API Token:
# 1. Go to Cloudflare Dashboard > R2 > Overview
# 2. Click "Manage R2 API Tokens"
# 3. Create token with "Object Read & Write" permission
# 4. Copy the Access Key ID and Secret Access Key
# =============================================================================
S3_ENDPOINT = ""
S3_BUCKET = ""
S3_CDN_BUCKET = ""
S3_ACCESS_KEY = ""
S3_SECRET_KEY = ""

# =============================================================================
# Email Service - Resend (Optional but Recommended)
# Get from: https://resend.com/api-keys
# Required for: Email notifications, password reset
# =============================================================================
RESEND_API_KEY = ""

# =============================================================================
# Google OAuth (Optional)
# Get from: Google Cloud Console > APIs & Services > Credentials
# Redirect URI: https://${domain}/login/google/callback
# =============================================================================
GOOGLE_CLIENT_ID = ""
GOOGLE_CLIENT_SECRET = ""

# =============================================================================
# reCAPTCHA v3 (Optional)
# Get from: https://www.google.com/recaptcha/admin
# Protects against automated abuse
# =============================================================================
RECAPTCHA_CLIENT_KEY = ""
RECAPTCHA_SERVER_KEY = ""

# =============================================================================
# Stripe Payments (Optional)
# Get from: https://dashboard.stripe.com/apikeys
# Required for: Premium subscriptions, API access
# =============================================================================
STRIPE_PUBLISHABLE_KEY = ""
STRIPE_SECRET_KEY = ""
STRIPE_WEBHOOK_SECRET = ""

# =============================================================================
# Image CDN - imgix (Optional)
# Alternative to Cloudflare for image optimization
# =============================================================================
IMGIX_CDN_URL = ""
